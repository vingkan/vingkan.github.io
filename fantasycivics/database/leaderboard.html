<!DOCTYPE html>
<html>
	<head>
		<title>Fantasy Civics</title>
		<!--<link rel="icon" type="img/png" href="style/favicon.png" style="width:30px;">-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script src="https://www.gstatic.com/firebasejs/3.6.9/firebase.js"></script>
		<style>

			table td {
				padding-right: 10px;
			}

			.center {
				text-align: center;
			}

			td.center {
				width: 90px;
			}

			td.player-name {
				width: 180px;
			}

		</style>
	</head>

	<body>

		<h1>Database Testing Suite</h1>

		<script type="text/javascript" src="../assets/promise.min.js"></script>
		<script type="text/javascript" src="../assets/moment.min.js"></script>
		<script type="text/javascript" src="../assets/jquery-3.1.1.min.js"></script>
		<script type="text/javascript" src="../lib/util.js"></script>

		<!-- Five Internal Libraries  Required for Database Usage -->
		<script type="text/javascript" src="./player.js"></script>
		<script type="text/javascript" src="./league.js"></script>
		<script type="text/javascript" src="./scoring.js"></script>
		<script type="text/javascript" src="./auth.js"></script>
		<script type="text/javascript" src="./database.js"></script>

		<script type="text/javascript" src="./test-views.js"></script>

		<script type="text/javascript">

			var l1 = '-KdIiWEUj7_toD3MKMO_';
			var l2 = '-KdJnBQC6hc7OF9FguyQ';
			var test = '-KdYWQQsWkAVuLiIoAwN';
			var l3 = '-KdiofxVNZK1_QDoI3cN';

			var LEAGUE_ID = l3;

			var Database = InitDatabase();

			Database.getLeaderboard({
				leagueid: LEAGUE_ID
			}).then((res) => {
				console.log('Testing getLeaderboard Response:');
				console.log(res);
				renderLeaderboard(res.rankings, res.records, {name: res.name});
			}).catch((err) => {
				console.log('Err in getLeaderboard:');
				console.error(err);
			});

			Database.getLeague({
				leagueid: LEAGUE_ID,
				from: new Date('2/1/2017').getTime(),
				to: new Date('3/1/2017').getTime()
			}).then((league) => {
				console.log('Checking win/loss records in league object.');
				console.log(league.users);
			});

			Database.getLeagueData({
				leagueid: LEAGUE_ID
			}).then((leagueData) => {
				console.log('Checking win/loss records in leagueData object.');
				console.log(leagueData.users);
			});

		</script>
	
	</body>

</html>